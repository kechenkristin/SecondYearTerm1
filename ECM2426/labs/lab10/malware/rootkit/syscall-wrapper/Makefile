
.PHONY: run run-modified

print-time: print-time.c
	gcc -o print-time print-time.c

fake-time.so: fake-time.c
	gcc -shared -o fake-time.so -fPIC fake-time.c

run: print-time
	./print-time

run-modified: fake-time.so print-time
	LD_PRELOAD=`pwd`/fake-time.so ./print-time

clean:
	rm -f fake-time.so
	rm -f print-time

